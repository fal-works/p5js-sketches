/**
 * Colored Shadow 3.
 * Source code in TypeScript: https://github.com/fal-works/p5js-sketches/tree/master/colored-shadow-3
 *
 * @copyright 2020 FAL
 * @version 0.1.0
 */
!function(e,t){"use strict";function o(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(o){if("default"!==o){var n=Object.getOwnPropertyDescriptor(e,o);Object.defineProperty(t,o,n.get?n:{enumerable:!0,get:function(){return e[o]}})}})),t.default=e,Object.freeze(t)}const n=o(e),r=o(t),{Random:s}=r,{onSetup:a,onInstantiate:c}=n;let i,l;c.push(e=>{i=e}),a.push(()=>{l=e.canvas});const d=(t,o,n)=>{const r=(t=>{const o=t||s.angle(),n=s.between(50,100);return{stroke:e.cielchColor(n,110,o,204),shadow:e.cielchColor(n,110,o,127.5)}})(n);i.push(),i.stroke(r.stroke),i.noFill(),e.setShadow(r.shadow,16,15,20),i.rect(t,o,100,100),i.pop()},u=()=>{i.blendMode(i.REPLACE),i.background(252),i.blendMode(i.MULTIPLY);const{width:e,height:t}=l.logicalSize;i.push();const o=s.between(50,100);for(let n=100;n<e-100;n+=o)for(let e=100;e<t-100;e+=o)d(n,e,s.angle());i.pop()},h=()=>{l.drawScaled(u)},p={keyTyped:()=>{switch(i.key){case"p":e.pauseOrResume();break;case"g":i.save("image.png");break;case"r":h()}return!1},mousePressed:()=>h()};e.startSketch({htmlElement:"ColoredShadow3",logicalCanvasWidth:720,logicalCanvasHeight:720,initialize:()=>{i.rectMode(i.CENTER),i.strokeWeight(8),h()},windowResized:()=>l.resizeIfNeeded(),onCanvasResized:h,p5Methods:p})}(p5ex,CreativeCodingCore);